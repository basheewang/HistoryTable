%% -*- coding: utf-8 -*-
%% Time-stamp: <Chen Wang: 2018-07-11 22:26:31>

\documentclass[zihao=-4]{ctexbook}
\ctexset{
  chapter = {
    name = {第,卷},
    format = \centering\Large\bfseries\heiti,
    beforeskip = 10pt,
    afterskip = 20pt,
    titleformat = \chaptertitleformat
  },
  section = {
    name = {第,章},
    number = \chinese{section},
    format = \newpage\large\heiti,
    afterskip = 10pt,
    beforeskip = 10pt,
  },
  subsection = {
    name = {第,节},
    number = \chinese{subsection},
    format = \heiti,
    afterskip = 0pt,
    beforeskip = 0pt,
  },
  subsubsection = {
    % name = {第,},
    % numbering = true,
    number = \chinese{subsubsection},
    format = \heiti,
    afterskip = 0pt,
    beforeskip = 0pt,
  }
}
\setcounter{secnumdepth}{5}

\usepackage{varwidth}
\newcommand{\chaptertitleformat}[1]{%%
  \begin{varwidth}[t]{.7\linewidth}#1\end{varwidth}}

% Some extra packages
\usepackage{listings}
\lstset{
  basicstyle=\ttfamily,
  escapeinside={||},
  mathescape=true
}

\usepackage{fancyvrb}
\newsavebox{\FVerbBox}
\newenvironment{FVerbatim}
{\VerbatimEnvironment
  \begin{center}
\begin{BVerbatim}[commandchars=\\\{\}]}
 {\end{BVerbatim}
   \end{center}}

\usepackage{color}
\usepackage[perpage,hang,flushmargin]{footmisc}

\usepackage[hidelinks]{hyperref}
\hypersetup{
  colorlinks=true,
  linkcolor=blue,
  filecolor=magenta,      
  urlcolor=cyan,
}
% \hypersetup{
%   colorlinks,
%   citecolor=black,
%   filecolor=black,
%   linkcolor=black,
%   urlcolor=black
% }

\usepackage{fancyhdr}
\fancyhf{} % clear all header and footers
% \renewcommand{\headrulewidth}{0pt} % remove the header rule
% \rfoot{\thepage}
% \pagestyle{fancy}
% \fancyhf{}% clearsall
% \fancyhead[RE,LO]{\normalsize foo}
% \rfoot{\thepage}
% \renewcommand{\footrulewidth}{-30pt}

% For Meizu Pro5
\usepackage[
    % showframe,
    % includefoot,
    paperwidth=2.75in,
    paperheight=4.9in,
    left=0.1in,
    right=0.1in,
    top=0.1in,
    bottom=0.18in,
    footskip=10pt
]
{geometry}

% For Kindle 6"
% \usepackage[
% % showframe,
% paperwidth=3.6in,
% paperheight=4.8in,
% left=0.1in,
% right=0.1in,
% top=0.1in,
% bottom=0.18in,
% % footskip=10pt
% ]
% {geometry}

\setCJKmainfont{FZLanTingSong}

\newCJKfontfamily[fzsong]\fzsong{FZLanTingSong}
\newCJKfontfamily[kaiti]\kaiti{KaiTi}
\newCJKfontfamily[hkxm]\hkxm{FZBeiWeiKaiShu-S19_GB18030}
\newCJKfontfamily[song]\pml{PMingLiU}
\newCJKfontfamily[song]\hnm{HanaMin}
\newCJKfontfamily[fzk]\fzk{FZKaiS-Extended(SIP)}
\newCJKfontfamily[HeiTi]\SimHei{SimHei}

\usepackage{booktabs}
\usepackage{array}

\usepackage{tocloft}
\renewcommand{\cftsubsecfont}{\small}

\usepackage{enumitem}
% \setlength{\parindent}{0pt}
\setlist[description]{leftmargin=\parindent,labelindent=\parindent}
\setlist[enumerate]{
  nosep,
  itemsep=0pt,
  parsep=0pt,
  topsep=3pt,
  partopsep=0pt,
  leftmargin=0.4em,
  labelsep=2pt,
  after=\vspace{-3.2em},
  before=\vspace{-1.6em},  
  }
\setlist[itemize]{
    nosep,
    itemsep=0pt,
    parsep=0pt,
    topsep=3pt,
    partopsep=0pt,
    leftmargin=2em,
    % labelsep=2pt,
    % after=\vspace{-3.2em},
    % before=\vspace{-1.6em},  
  }

\usepackage{longtable}

%% 改变页数字体大小
\renewcommand*{\thepage}{\scriptsize\arabic{page}}

%% 改变字体大小
\renewcommand{\footnotesize}{\fontsize{5pt}{6pt}\selectfont}
\newcommand{\threept}{\fontsize{3pt}{3pt}\selectfont}

%% 使每页的脚注的数字为黑色圆圈数字
\usepackage{pifont}
\makeatletter
\newcommand*{\bcircnum}[1]{%
  \expandafter\@bcircnum\csname c@#1\endcsname
}
\newcommand*{\@bcircnum}[1]{%
  \ifnum#1<1 %
  \@ctrerr
  \else
  \ifnum#1>20 %
  \@ctrerr
  \else
  \ding{\the\numexpr 181+(#1)\relax}%
  \fi
  \fi
}
\makeatother

\renewcommand*{\thefootnote}{\bcircnum{footnote}}

% \makeatletter
% \newcommand*{\circnum}[1]{%
%   \expandafter\@circnum\csname c@#1\endcsname
% }
% \newcommand*{\@circnum}[1]{%
%   \ifnum#1<1 %
%   \@ctrerr
%   \else
%   \ifnum#1>10 %
%   \@ctrerr
%   \else
%   \ding{\the\numexpr 171+(#1)\relax}%
%   \fi
%   \fi
% }
% \makeatother

% \renewcommand*{\theenumi}{\circnum{enumi}}

\setlength{\footskip}{0pt} 
\setlength{\footnotesep}{0pt}

% \usepackage{footnote}
% \makesavenoteenv{tabular}
% \makesavenoteenv{table}

%% title & author
\title{\huge 历\quad{}代\quad{}年\quad{}表}
\author{}
\date{}

\begin{document}
\clearpage\maketitle
\clearpage\tableofcontents
% \thispagestyle{empty}

\thispagestyle{empty}

\setcounter{page}{1}

\addtocontents{toc}{\protect\thispagestyle{empty}}

\input{QianYan/QianYan}
\input{ZhanGuo/ZhanGuo}
\input{Qin/00_Qin}
\input{XiHan/00_XiHan}
\input{DongHan/00_DongHan}
\input{SanGuo/00_SanGuo}
\input{XiJin/00_XiJin}
\input{DongJin/00_DongJin}
\input{ShiLiuGuo/00_ShiLiuGuo}
\input{NanBeiChao/00_NanBeiChao}
\input{Sui/00_Sui}
\input{Tang/00_Tang}
\input{WuDai/00_WuDai}

\end{document}

%%% Local Variables:
%%% mode: latex
%%% TeX-engine: xetex
%%% TeX-master: t
%%% End:
